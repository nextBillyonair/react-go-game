(this["webpackJsonpgo-game"]=this["webpackJsonpgo-game"]||[]).push([[0],{111:function(e,t,a){e.exports=a(215)},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},124:function(e,t){},126:function(e,t){},137:function(e,t){},139:function(e,t){},166:function(e,t){},168:function(e,t){},169:function(e,t){},175:function(e,t){},177:function(e,t){},195:function(e,t){},197:function(e,t){},209:function(e,t){},212:function(e,t){},215:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),r=a(107),i=a.n(r),c=(a(116),a(117),a(28)),o=a(34),l=a(35),u=a(9),h=a(110),d=a(108);a(118);var v=function(e){return s.a.createElement("button",{className:"square",onClick:e.onClick},e.value)},f=(a(119),a(109)),b=a(14),m=a(120),g={black:"\u25cf",white:"\u25cb"};function p(e,t){var a,n=new Set(e),s=Object(b.a)(t);try{for(s.s();!(a=s.n()).done;){var r=a.value;n.add(r)}}catch(i){s.e(i)}finally{s.f()}return n}var y=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"hash_board",value:function(e){return m.createHash("sha1").update(e.toString()).digest("hex")}},{key:"random_turn",value:function(e,t){var a=e.reduce((function(e,t,a){return null===t?e.concat(a):e}),[]),n=a[Math.floor(Math.random()*a.length)];return[this.place(e,n,t),n]}},{key:"place",value:function(e,t,a){return e[t]=a,e=this.evaluate(e,t)}},{key:"evaluate",value:function(e,t){var a,n=Object(b.a)(this.get_adjacent(t).concat([t]));try{for(n.s();!(a=n.n()).done;){var s=a.value,r=this.get_chain(e,s);if(!r.has_liberty){var i,c=Object(b.a)(r.chain);try{for(c.s();!(i=c.n()).done;){e[i.value]=null}}catch(o){c.e(o)}finally{c.f()}}}}catch(o){n.e(o)}finally{n.f()}return e}},{key:"get_chain",value:function(e,t){var a=e[t];if(null===a)return{has_liberty:!0,chain:new Set};for(var n={has_liberty:!1,chain:new Set([t])},s=[t],r=new Set;s.length>0;){var i=s.pop();if(!r.has(i)){r.add(i);var c,o=Object(b.a)(this.get_adjacent(i));try{for(o.s();!(c=o.n()).done;){var l=c.value;null===e[l]?n.has_liberty=!0:e[l]===a&&(s.push(l),n.chain.add(l))}}catch(u){o.e(u)}finally{o.f()}}}return n}},{key:"get_adjacent",value:function(e){var t=this.index_to_coord(e),a=Object(c.a)(t,2),n=a[0],s=a[1],r=[];return n>0&&r.push(this.coord_to_index(n-1,s)),n<18&&r.push(this.coord_to_index(n+1,s)),s>0&&r.push(this.coord_to_index(n,s-1)),s<18&&r.push(this.coord_to_index(n,s+1)),r}},{key:"index_to_coord",value:function(e){return[Math.floor(e/19),e%19]}},{key:"coord_to_index",value:function(e,t){return 19*e+t}},{key:"score",value:function(e){var t,a=e.reduce((function(e,t,a){return null===t?e.concat(a):e}),[]),n=new Set,s={black:new Set,white:new Set,disputed:new Set,neutral:new Set},r=Object(b.a)(a);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!n.has(i)){var c=this.get_area(e,i);n=p(n,c.chain),2===c.neighbors.length?s.disputed=p(s.disputed,c.chain):1===c.neighbors.length?s[c.neighbors[0]]=p(s[c.neighbors[0]],c.chain):s.neutral=p(s.neutral,c.chain)}}}catch(h){r.e(h)}finally{r.f()}for(var o=function(){var t=u[l],a=e.reduce((function(e,a,n){return a===g[t]?e.concat(n):e}),[]);s[t]=p(s[t],a)},l=0,u=["black","white"];l<u.length;l++)o();return{black:s.black.size,white:s.white.size,disputed:s.disputed.size,neutral:s.neutral.size}}},{key:"get_area",value:function(e,t){for(var a=e[t],n=new Set([t]),s=[t],r=new Set,i=new Set;s.length>0;){var c=s.pop();if(!r.has(c)){r.add(c);var o,l=Object(b.a)(this.get_adjacent(c));try{for(l.s();!(o=l.n()).done;){var u=o.value;if(null!==e[u]){var h=e[u]===g.black?"black":"white";i.add(h)}else e[u]===a&&(s.push(u),n.add(u))}}catch(d){l.e(d)}finally{l.f()}}}return{neighbors:Object(f.a)(i),chain:n}}}]),e}(),k="\u25cf",_="\u25cb",w=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).logic=new y;var s=Array(361).fill(null);return n.state={squares:s,blackIsNext:!0,score:n.logic.score(s),hash_codes:[n.logic.hash_board(s)],current_hash:n.logic.hash_board(s),passes:0,autoplay:!1,game_over:!1},n.handleClick=n.handleClick.bind(Object(u.a)(n)),n.handleReset=n.handleReset.bind(Object(u.a)(n)),n.handlePass=n.handlePass.bind(Object(u.a)(n)),n.handleRandom=n.handleRandom.bind(Object(u.a)(n)),n.handleAutoplay=n.handleAutoplay.bind(Object(u.a)(n)),n.isIllegalMove=n.isIllegalMove.bind(Object(u.a)(n)),n.determineWinner=n.determineWinner.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"handleAutoplay",value:function(e){var t=this;if(!this.state.game_over&&(this.setState({autoplay:e.target.checked}),e.target.checked))var a=setInterval((function(){t.state.autoplay?t.handleRandom(null):clearInterval(a)}),100)}},{key:"handleReset",value:function(){var e=this,t=Array(361).fill(null);this.setState((function(a){return{squares:t,blackIsNext:!0,score:e.logic.score(t),hash_codes:[e.logic.hash_board(t)],current_hash:e.logic.hash_board(t),passes:0,autoplay:!1,game_over:!1}}))}},{key:"determineWinner",value:function(){var e="Game Over!!! ".concat(k," has won the game!!!");return this.state.score.black<this.state.score.white?e="Game Over!!! ".concat(_," has won the game!!!"):this.state.score.black===this.state.score.white&&(e="Game Over? Seems to be a tie..."),e}},{key:"handlePass",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.state.game_over)this.setState({autoplay:!1});else{var a=!1;this.state.passes+1===2?(alert(this.determineWinner()),a=!0):this.state.passes+1>2&&(a=!0),this.setState((function(e){return{blackIsNext:!e.blackIsNext,passes:e.passes+1,autoplay:!(e.game_over&&!a)&&t,game_over:!!e.game_over||a}}))}}},{key:"isIllegalMove",value:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!1;return e===this.state.hash_codes[this.state.hash_codes.length-2]?(a&&(this.setState({autoplay:!1}),alert("Warning! Ko: Cannot return to previous position!")),n=!0):null===t?(a&&(this.setState({autoplay:!1}),alert("Warning! Suicide: Cannot commit suicide!")),n=!0):this.state.game_over&&(this.setState({autoplay:!1}),n=!0),n}},{key:"handleRandom",value:function(e){if(this.state.game_over)this.setState({autoplay:!1});else{for(var t=this.state.blackIsNext?k:_,a=this.logic.random_turn(this.state.squares.slice(),t),n=Object(c.a)(a,2),s=n[0],r=n[1],i=this.logic.hash_board(s),o=5;this.isIllegalMove(i,s[r],!1)&&o>0;){var l=this.logic.random_turn(this.state.squares.slice(),t),u=Object(c.a)(l,2);s=u[0],r=u[1],i=this.logic.hash_board(s),o-=1}if(this.isIllegalMove(i,s[r],!1))this.handlePass(null,!0);else{var h=this.logic.score(s);this.setState((function(t){return{squares:s,blackIsNext:!t.blackIsNext,score:h,current_hash:i,hash_codes:t.hash_codes.concat([i]),passes:0,autoplay:null===e}}))}}}},{key:"handleClick",value:function(e){var t=this.state.squares.slice();if(t[e]||this.state.game_over)this.setState({autoplay:!1});else{var a=this.state.blackIsNext?k:_;t=this.logic.place(t,e,a);var n=this.logic.score(t),s=this.logic.hash_board(t);this.isIllegalMove(s,t[e])||this.setState((function(e){return{squares:t,blackIsNext:!e.blackIsNext,score:n,current_hash:s,hash_codes:e.hash_codes.concat([s]),passes:0,autoplay:!1}}))}}},{key:"renderSquare",value:function(e){var t=this;return s.a.createElement(v,{key:e,value:this.state.squares[e],onClick:function(){return t.handleClick(e)}})}},{key:"render",value:function(){var e=this,t="Current player: "+(this.state.blackIsNext?k:_);this.state.game_over&&(t=this.determineWinner());var a="Score: ".concat(k,": ").concat(this.state.score.black,", ").concat(_,": ").concat(this.state.score.white,", Contested: ").concat(this.state.score.disputed),n=this.state.squares.map((function(t,a){return e.renderSquare(a)})),r=Array(19).fill(null).map((function(e,t){return s.a.createElement("div",{className:"board-row",key:t},n.slice(19*t,19*t+19))}));return s.a.createElement("div",null,s.a.createElement("div",{className:"status"},t),r,s.a.createElement("div",{className:"status"},a),s.a.createElement("div",{className:"status"},s.a.createElement("button",{className:"status-button",onClick:this.handleReset},"Reset"),s.a.createElement("button",{className:"status-button",onClick:this.handlePass},"Pass"),s.a.createElement("button",{className:"status-button",onClick:this.handleRandom},"Random")),s.a.createElement("div",{className:"status"},"Autoplay",s.a.createElement("label",{className:"switch"},s.a.createElement("input",{type:"checkbox",checked:this.state.autoplay,onChange:this.handleAutoplay}),s.a.createElement("span",{className:"slider round"}))))}}]),a}(s.a.Component);var S=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement(w,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[111,1,2]]]);
//# sourceMappingURL=main.fcb8624a.chunk.js.map